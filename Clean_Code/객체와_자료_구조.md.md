# Chapter 6. κ°μ²΄μ™€ μλ£κµ¬μ΅°

## Table of Contents

- [μλ£ μ¶”μƒν™”](#μλ£-μ¶”μƒν™”)
- [μλ£ κ°μ²΄ λΉ„λ€μΉ­](#μλ£-κ°μ²΄-λΉ„λ€μΉ­)
  - [μλ£κµ¬μ΅°](#μλ£κµ¬μ΅°)
  - [κ°μ²΄](#κ°μ²΄)
  - [μ μ°¨μ μΈ μ½”λ“](#μ μ°¨μ μΈ-μ½”λ“)
  - [κ°μ²΄ μ§€ν–¥ μ½”λ“](#κ°μ²΄-μ§€ν–¥-μ½”λ“)
- [λ””λ―Έν„° λ²•μΉ™](#λ””λ―Έν„°-λ²•μΉ™)
  - [κΈ°μ°¨ μ¶©λ](#κΈ°μ°¨ μ¶©λ)
- [μλ£ μ „λ‹¬ κ°μ²΄](#μλ£-μ „λ‹¬-κ°μ²΄)

## μλ£ μ¶”μƒν™”

- **κµ¬ν„μ„ κ°μ¶”λ ¤λ©΄ μ¶”μƒν™”κ°€ ν•„μ”**ν•λ‹¤.

  - λ³€μ μ‚¬μ΄μ— ν•¨μλΌλ” κ³„μΈµμ„ λ„£λ”λ‹¤κ³  κµ¬ν„μ΄ μ €μ λ΅ κ°μ¶”μ–΄μ§€μ§„ μ•λ”λ‹¤. 
  - *μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•μ—¬ μ‚¬μ©μκ°€ κµ¬ν„μ„ λ¨λ¥Έ μ±„ μλ£μ ν•µμ‹¬μ„ μ΅°μ‘ν•  μ μκ² ν•λ” κ²ƒμ΄ ν΄λμ¤*λ‹¤.

```swift
public protocol Point {
	func setCartesian(x: Double, y: Double)
    func radius() -> Double
    func theta() -> Double
    func setPolar(r: Double, theta: Double)
}
```

- **μλ£λ¥Ό** μ„Έμ„Έν•κ² κ³µκ°ν•κΈ°λ³΄λ‹¤λ” **μ¶”μƒμ μΌλ΅ ν‘ν„**ν•λ” νΈμ΄ μΆ‹λ‹¤.

```swift
public protocol Vehicle {
    //π κµ¬μ²΄μ μΈ μ«μ
    func gallonsOfGasoline()	
    //π‘ μ¶”μƒμ μΈ κ°λ…(λ°±λ¶„μ¨)
    func percentOfFuelRemaining() 
}
```

## μλ£ κ°μ²΄ λΉ„λ€μΉ­

### μλ£κµ¬μ΅°

- μλ£λ¥Ό κ·Έλ€λ΅ κ³µκ°ν•λ‹¤.
- λ³„λ‹¤λ¥Έ ν•¨μλ” μ κ³µν•μ§€ μ•λ”λ‹¤.

### κ°μ²΄

- μλ£λ¥Ό μ¶”μƒν™” λ’¤μ— μ¨κ²¨ λ†“λ”λ‹¤.
- μλ£λ¥Ό λ‹¤λ£¨λ” ν•¨μλ§ κ³µκ°ν•λ‹¤.

### μ μ°¨μ μΈ μ½”λ“

- μλ£ κµ¬μ΅°λ¥Ό λ³€κ²½ν•μ§€ μ•μΌλ©΄μ„ μƒ ν•¨μλ¥Ό μ¶”κ°€ν•κΈ° μ‰½λ‹¤.
- μƒλ΅μ΄ μλ£ κµ¬μ΅°λ¥Ό μ¶”κ°€ν•κΈ° μ–΄λ µλ‹¤.

```swift
//μλ£ κµ¬μ΅°
//μ μ°¨μ μΈ ν΄λμ¤
//μλ£λ¥Ό κ·Έλ€λ΅ κ³µκ°ν•μ§€λ§ λ³„λ‹¤λ¥Έ ν•¨μλ¥Ό μ κ³µν•μ§€λ” μ•λ”λ‹¤.
//μ•„λ¬΄ λ©”μ„λ“λ„ μ κ³µν•μ§€ μ•λ”λ‹¤.
class Square {
    var topLeft: CGPoint
    var side: Double
    init(topLeft: CGPoint, side: Double) {
        self.topLeft = topLeft
        self.side = side
    }
}

//κ°μ²΄
//μλ£λ¥Ό λ‹¤λ£¨λ” ν•¨μλ¥Ό κ³µκ°ν•λ‹¤.
//ν•¨μλ¥Ό μ¶”κ°€ν•μ—¬λ„ λ„ν• ν΄λμ¤λ” μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤.
//μƒ λ„ν•μ„ μ¶”κ°€ν•λ ¤λ©΄ ν•¨μλ¥Ό λ¨λ‘ κ³ μ³μ•Όν•λ‹¤.
class Geometry {
    let pi = Double.pi
    
    func area(shape: AnyObject) throws -> Double {
        switch shape {
        case is Square:
            guard let sqaure = shape as? Square else {
                fatalError()
            }
            return sqaure.side * sqaure.side
        default: break
        }
        fatalError()
    }
}
```

### κ°μ²΄ μ§€ν–¥ μ½”λ“

- κΈ°μ΅΄ ν•¨μλ¥Ό λ³€κ²½ν•μ§€ μ•μΌλ©΄μ„ μƒ ν΄λμ¤λ¥Ό μ¶”κ°€ν•κΈ° μ‰½λ‹¤.
- μƒλ΅μ΄ ν•¨μλ¥Ό μ¶”κ°€ν•κΈ° μ–΄λ µλ‹¤.

```swift
//κ°μ²΄ μ§€ν–¥μ μΈ ν΄λμ¤
//Geometry Classλ” ν•„μ”ν•μ§€ μ•λ‹¤.
//μƒλ΅μ΄ λ„ν•μ„ μ¶”κ°€ν•μ—¬λ„ κΈ°μ΅΄ ν•¨μμ— μ•„λ¬΄λ° μν–¥μ„ λ―ΈμΉμ§€ μ•λ”λ‹¤.
protocol Shape {
    func area() -> Double
}
class Square: Shape {
    var topLeft: CGPoint
    var side: Double
    init(topLeft: CGPoint, side: Double) {
        self.topLeft = topLeft
        self.side = side
    }
    func area() -> Double {
        return side*side
    }
}
```

## λ””λ―Έν„° λ²•μΉ™

> #### "λ¨λ“μ€ μμ‹ μ΄ μ΅°μ‘ν•λ” κ°μ²΄μ μ†μ‚¬μ •μ„ λ°λΌμ•Ό ν•λ‹¤."

- κ°μ²΄λ” μλ£λ¥Ό μ¶”μƒν™” λ’¤μ— μ¨κΈ°κ³ , μλ£λ¥Ό λ‹¤λ£¨λ” ν•¨μλ§ κ³µκ°ν•λ‹¤.
- ν΄λμ¤ Cμ λ©”μ„λ“ fλ” μ•„λμ λ©”μ„λ“λ§ νΈμ¶ν•΄μ•Όν•λ‹¤.
  - ν΄λμ¤ Cμ λ©”μ„λ“
  - fκ°€ μƒμ„±ν• κ°μ²΄μ λ©”μ„λ“
  - fμ μΈμλ΅ λ„μ–΄μ¨ κ°μ²΄μ λ©”μ„λ“
  - CμΈμ¤ν„°μ¤ λ³€μμ— μ €μ¥λ κ°μ²΄μ λ©”μ„λ“

### κΈ°μ°¨ μ¶©λ

- μ—¬λ¬ κ°μ°¨κ°€ ν•μ¤„λ΅ μ΄μ–΄μ§„ κΈ°μ°¨μ²λΌ λ³΄μΈλ‹¤.

```swift
let outputDirection = context.option().searchDirection().absolutePath()
```

```swift
//ν•¨μ ν•λ‚κ°€ μ•„λ” μ§€μ‹μ΄ κµ‰μ¥ν λ§λ‹¤.
let option = context.option()
let scratchDirection = option.scratchDirection()
let outputDirection = scratchDirection.absolutePath()
//context, option, searchdirectionμ΄ 
//κ°μ²΄λΌλ©΄ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό μ¨κ²¨μ•Ό ν•λ―€λ΅ λ””λ―Έν„° λ²•μΉ™μ„ μ„λ°ν•λ‹¤.
//μλ£κµ¬μ΅°λΌλ©΄ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ…Έμ¶ν•λ―€λ΅ λ””λ―Έν„° λ²•μΉ™μ΄ μ μ©λμ§€ μ•λ”λ‹¤.

//λ””λ―Έν„° λ²•μΉ™μ„ κ±°λ΅ ν•  ν•„μ”κ°€ μ—†μ–΄μ§„λ‹¤.
let outputDirection = context.option.scratchDirection.absolutePath
```

## μλ£ μ „λ‹¬ κ°μ²΄

- DTO(Data Transfer Object) : μλ£ μ „λ‹¬ κ°μ²΄
  - κ³µκ°λ³€μλ§ μκ³  ν•¨μκ°€ μ—†λ” ν΄λμ¤